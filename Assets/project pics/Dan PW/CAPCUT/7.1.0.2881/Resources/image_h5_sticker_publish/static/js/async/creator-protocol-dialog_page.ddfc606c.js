/*! For license information please see creator-protocol-dialog_page.ddfc606c.js.LICENSE.txt */
(self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[]).push([[6898],{55646:(e,t,r)=>{"use strict";function n(e){e.stopPropagation(),e.preventDefault()}r.d(t,{Jt:()=>n})},51616:(e,t,r)=>{"use strict";r.d(t,{q7:()=>n});const n="Enter"},22582:(e,t,r)=>{"use strict";function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{prefix:t="",length:r=7}=e,n="0123456789abcdefghijklmnopqrstuvwxyz";let o="";for(let a=0;a<r;a++){const e=Math.floor(36*Math.random());o+=n.charAt(e)}return t?`${t}-${o}`:o}r.d(t,{Ms:()=>n})},4157:(e,t,r)=>{"use strict";r.d(t,{GO:()=>i,UW:()=>o,vY:()=>a});r(18571);var n=r(97313);function o(e,t){e&&"function"==typeof e.stopPropagation&&e.stopPropagation(),!t&&e.nativeEvent&&"function"==typeof e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}function a(){return document?document.activeElement:null}function i(e){if(!(0,n.Z)(e))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(t))}},51089:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Se});var n,o,a=r(18571),i=r(18751),c=r.n(i),l=r(42716),s=(r(4037),r(46995)),u=r(47225),d=r(39362),m=r(7142);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(null,arguments)}const f=e=>a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},e),n||(n=a.createElement("rect",{width:18,height:18,fill:"#29292D",opacity:.5,rx:9})),o||(o=a.createElement("path",{stroke:"#FAFAFA",strokeWidth:1.35,d:"M13.925 9a4.924 4.924 0 1 0-1.443 3.482"}))),v="root-yumxDJ",h="animated-IHczOy";var g=r(72322);const b=(0,a.memo)((e=>{const{className:t,size:r,circleColor:n="var(--black-4)",arcColor:o="var(--white-0)",animated:a=!0}=e;return(0,g.jsx)(f,{className:c()(t,v,a&&h),width:r,height:r,style:{"--heycan-loading-circle-color":n,"--heycan-loading-arc-color":o}})})),w="card-f4fcSb",x="text-RGDuHx",y=e=>{const{className:t,status:r,children:n}=e;return(0,g.jsxs)("div",{className:c()(t,w),children:["loading"===r?(0,g.jsx)(b,{size:18},r):(0,g.jsx)(b,{size:18,circleColor:"#c30000",animated:!1},r),n&&(0,g.jsx)("div",{className:x,children:n})]})};var j=r(52272),_=r(83305);const E=({lang:e,region:t})=>`https://www.capcut.com/clause/creator-agreement?lang=${e}&store_region=${t}`;var O,C=r(71157),k=r(12803),N=r(65625),P=r(79292);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(null,arguments)}const A=e=>a.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,fill:"none",viewBox:"0 0 12 12"},e),O||(O=a.createElement("path",{fill:"#D4D4D4",d:"M6.708 6 11 10.292l-.708.708L6 6.708 1.708 11 1 10.292 5.292 6 1 1.708 1.708 1 6 5.292 10.292 1l.708.708z"})));var I=r(70126),L=r(54275),M=r(51091),Z=r(36958);const F="root-wurvCd",H="point-E_OjHv",R="tooltipWrapper-f4Ku2I",z="fadingOut-WkHWF7",W=(0,a.forwardRef)(((e,t)=>{const{tooltipProps:r,getPopupContainer:n,onClosePopover:o,position:i,cursor:l="default"}=e,[s,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(!1),{top:f}=i,v=i.left-10,h=(0,a.useRef)(null),b=(0,a.useRef)(null),w=(0,L.Z)((()=>{var e;null===(e=b.current)||void 0===e||e.destroy(),p(!1),u(!1)})),x=(0,L.Z)((()=>{var e;const t=n().querySelector(`.${R}`);if(!t||(null===(e=b.current)||void 0===e?void 0:e.tooltipWrapper)===t)return;t.addEventListener("animationend",w);const r=new k.B;r.timeout(500).then(w),b.current={tooltipWrapper:t,destroy:()=>{t.removeEventListener("animationend",w),r.cancel(),b.current=null}}}));(0,a.useImperativeHandle)(t,(()=>({hide:()=>{x(),p(!0)}})));const y=(0,a.useMemo)((()=>({default:{height:18,width:12},"not-allowed":{height:(0,Z.c)()?30:15,width:15}})),[]),j=y[l]||y.default;return(0,g.jsx)(d.Z,{autoAdjustOverflow:!0,position:"bottomLeft",motion:!1,...r,className:c()(r.className,R,m&&z),trigger:"custom",visible:s,showArrow:!1,rePosKey:`${f}-${v}`,getPopupContainer:n,onVisibleChange:e=>{var t;!e&&o(),null===(t=r.onVisibleChange)||void 0===t||t.call(r,e)},children:(0,g.jsx)("div",{className:H,tabIndex:-1,ref:h,style:{top:f,left:v,...j}})})}));function D(e){const{zIndex:t=1060,cursor:r="default",checkIsTarget:n,getEllipsisDOM:o,...i}=e,c=(0,a.useRef)(null),s=(0,a.useRef)(null),[u,d]=(0,a.useState)(null),{i18n:m}=(0,l.$)(),p=()=>{const{content:e}=i;if("function"!=typeof e)return e;if(!c.current)return null;const{targetElement:t}=c.current;return r=>e({...r,target:t})},f=(0,L.Z)((()=>{c.current&&(c.current.destroy(),c.current=null,d(null))})),v=(0,L.Z)((()=>{var e;null===(e=c.current)||void 0===e||e.destroy(),c.current=null})),h=(0,L.Z)((()=>{c.current&&(c.current.destroy(),c.current=null,d(null))})),b=(0,L.Z)(((e,r)=>{const n=null==o?void 0:o(r);if(n&&n.offsetWidth>=n.scrollWidth)return;if(c.current){if(!c.current.hasLeaved&&c.current.targetElement===r)return;f()}const a=document.createElement("div");a.className=F,a.style.zIndex=`${t}`;const i=e=>{d({left:e.clientX,top:e.clientY})},l=e=>{r===e.target&&(c.current&&(c.current.hasLeaved=!0),s.current?s.current.hide():f())};r.addEventListener("mousemove",i),r.addEventListener("mouseleave",l),document.body.appendChild(a);const u=(0,I.createRoot)(a);c.current={container:a,targetElement:r,hasLeaved:!1,reactRoot:u,destroy:()=>{a.remove(),Promise.resolve().then((()=>u.unmount())),r.removeEventListener("mousemove",i),r.removeEventListener("mouseleave",l)}},d({left:e.clientX,top:e.clientY})})),w=(0,L.Z)((e=>{const t=e.currentTarget;b(e,t)})),x=(0,L.Z)((e=>{var t;const r=e.target;(null!==(t=null==n?void 0:n(r))&&void 0!==t?t:e.currentTarget===r)&&b(e,r)}));return(0,a.useLayoutEffect)((()=>v),[]),(0,a.useLayoutEffect)((()=>{(()=>{if(!c.current||!u)return;const{reactRoot:e,container:n}=c.current;n.style.zIndex=`${t}`,e.render((0,g.jsx)(M.a,{i18n:m,children:(0,g.jsx)(W,{ref:s,tooltipProps:{...i,content:p()},getPopupContainer:()=>n,onClosePopover:f,position:u,cursor:r})}))})()})),{handleMouseEnter:w,handleMouseOver:x,destroyTooltip:h}}const T="protocol-VspS8l",$="content-OyCrKs",B="withBorder-jbe4Zm",X="flexHeight-OlM20e",Y="footer-PL68kt",q="btn-az9uHG",J="confirmArea-HME5C1",G="confirmCheckbox-lf6E1b",Q="confirmCheckboxText-Tkueuw",V="confirmCheckboxProtocolTitle-WvrrOC",K="protocolContent-jt8xnN",U="root-QktMQ3",ee="title-QI6laf",te="right-vx9IoL",re="closeIcon-Z6vdI8";let ne=function(e){return e.Origin="originUserAuthProtocol",e.OriginalForSubscription="originalWorkProtocolForSubscription",e.OriginalForCommercial="originalWorkProtocolForCommercial",e.Creator="createProtocol",e.AuthorAgreement="AuthorAgreementProtocol",e}({});const oe={[ne.Origin]:"https://www.capcut.com/clause/original-work-notice?lang=en",[ne.OriginalForSubscription]:"https://www.capcut.com/clause/original-work-notice?lang=en",[ne.OriginalForCommercial]:"https://www.capcut.com/clause/original-work-notice-commercial-material?lang=en",[ne.Creator]:E({}),[ne.AuthorAgreement]:"https://www.capcut.com/clause/paid-materials?lang=en"},ae={[ne.Origin]:"Original Work Notice",[ne.OriginalForSubscription]:"Original Work Notice",[ne.OriginalForCommercial]:"Original Work Notice",[ne.Creator]:P.I18n.t("pc_capcut_creator_agreement_web"),[ne.AuthorAgreement]:P.I18n.t("cc_pc_material_publish_paid_authorize_popup_title_web")};(0,N.Pi)((({onCancel:e,onOk:t,protocol:r,handleBtnText:n,closeIcon:o=!1,needReview:i=!0,useIframe:d=!0,needHasRead:m=!0,renderConfirmExtra:p,getCanConfirmExtra:f})=>{const{t:v}=(0,l.$)(),[h,b]=(0,a.useState)(!1),[w,x]=(0,a.useState)(!1),y=!m||h,j=()=>!i||y&&w&&(!f||f()),{handleMouseEnter:E}=D({content:v("pc_template_authorize_read_all_web"),cursor:"not-allowed"}),O=(0,a.useRef)(null),C={disabled:!y,handleMouseEnter:!i||y?void 0:E},k=()=>{j()&&(null==t||t())};(0,a.useEffect)((()=>{const e=e=>{const t=e.data;try{const e=JSON.parse(t),r=document.getElementById("protocol-content"),n="protocal"===e.from||"protocol"===e.from;if(n&&"load"===e.event)if(r){const{clientHeight:t}=r;e.scrollHeight<=t&&b(!0)}else b(!0);n&&"bottom"===e.event&&b(!0)}catch(r){b(!0),(0,_.RF)("[Protocol] handle protocol message",r,{text:t})}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]);const N=()=>{if(O.current&&!d){const{scrollHeight:e,clientHeight:t,scrollTop:r}=O.current;!y&&r+t>=e&&b(!0)}};return(0,a.useEffect)((()=>{var e;return null===(e=O.current)||void 0===e||e.addEventListener("scroll",N),()=>{var e;null===(e=O.current)||void 0===e||e.removeEventListener("scroll",N)}}),[O.current]),(0,a.useLayoutEffect)((()=>{const e=document.getElementById("protocol-content");if(e&&!d){const{scrollHeight:t,clientHeight:r}=e;b(!(t>r)),O.current=e}}),[]),(0,g.jsxs)("div",{className:T,children:[(0,g.jsxs)("div",{className:U,children:[(0,g.jsx)("div",{className:ee,children:ae[r]}),(0,g.jsx)("div",{className:te,children:o&&(0,g.jsx)(A,{className:re,onClick:()=>{null==e||e("close")}})})]}),(0,g.jsx)("div",{className:c()($,!i&&B,i&&X),id:"protocol-content",children:d?(0,g.jsx)("iframe",{id:"frame",src:oe[r]}):(0,g.jsx)("div",{className:K,children:null})}),n&&i?(0,g.jsxs)("div",{className:J,children:[(0,g.jsx)(u.ZP,{className:G,checked:w,disabled:C.disabled,onMouseEnter:C.handleMouseEnter,onChange:e=>x(Boolean(e.target.checked)),autoFocus:!1,children:(0,g.jsx)("span",{className:Q,children:v("pc_template_authorize_read_agree_web",{X:(0,g.jsx)("span",{className:V,children:ae[r]},"X")})})}),null==p?void 0:p()]}):null,(()=>{const e=n;return e?(0,g.jsx)("div",{className:c()(Y,i&&B),children:(0,g.jsx)(s.Z,{className:q,type:"primary",theme:"solid",disabled:!j(),onClick:k,children:e})}):null})()]})}));var ie=r(57102),ce=Object.defineProperty,le=Object.defineProperties,se=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,pe=(e,t,r)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fe=(e,t)=>{for(var r in t||(t={}))de.call(t,r)&&pe(e,r,t[r]);if(ue)for(var r of ue(t))me.call(t,r)&&pe(e,r,t[r]);return e};const ve={version:void 0};var he=(e,t={})=>{return ie.Z.call("creatorProtocolDialogAction",e,(r=fe({},t),n={customOptions:fe({jsb_rules:ve},t.customOptions)},le(r,se(n))));var r,n};const ge="Protoal-UH5T2G",be="content-yJY8ZY",we="check-B3Sm_8",xe="checkField-owDrOw",ye="checkboxContainer-igqjYD",je="disabled-gnikvo",_e="word-N1jdwD",Ee="checkbox-rsms3p",Oe="footer-PERq2T",Ce="btn-BncqQ_",ke="errorContainer-HV1YR0",Ne="retryText-dBFhyJ",Pe=({needReview:e=!0})=>{const[t,r]=(0,a.useState)(!1),{t:n,i18n:o}=(0,l.$)(),[i,d]=(0,a.useState)(!e),p=(0,a.useRef)(null),f=(0,a.useMemo)((()=>new k.B),[]),[v,h]=(0,a.useState)(!1),{language:b,region:w}=C.appModel.appInfo,x=(0,a.useMemo)((()=>E({lang:b,region:w})),[b,w]),{handleMouseEnter:O}=D({content:n("pc_template_authorize_read_all_web"),cursor:"not-allowed"});var N;(0,a.useEffect)((()=>{const e=e=>{try{if("string"!=typeof e.data)return;const t=JSON.parse(e.data);"protocal"!==t.from&&"protocol"!==t.from||"bottom"!==t.event||d(!0)}catch(t){console.log(t),(0,m.Z)("captureException",t),d(!0)}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,a.useEffect)((()=>{var e;if(!v)return f.timeout(1e4).then((()=>{h(!0)})),null===(e=p.current)||void 0===e||e.addEventListener("load",(()=>f.cancel())),()=>{f.cancel()}}),[v]),N={title:ae[ne.Creator],pid:"creator-protocol-dialog"},(0,a.useEffect)((()=>{(0,j.Td)({title:N.title}),(0,_.$G)({pid:N.pid})}),[]);return(0,g.jsxs)("div",{className:ge,children:[(0,g.jsx)("div",{className:be,children:v?(0,g.jsx)("div",{className:ke,children:(0,g.jsx)(y,{status:"error",children:n("pc_sticker_abnormal_{X}_web",{X:(0,g.jsx)("span",{className:Ne,onClick:()=>h(!1),children:n("pc_sticker_retry_web")},"X")})})}):(0,g.jsx)("iframe",{id:"frame",ref:p,src:x})}),(0,g.jsx)("div",{className:we,children:(0,g.jsx)("div",{className:xe,onClick:()=>{return e=!t,void(i&&r(e));var e},children:(0,g.jsxs)("div",{className:c()(ye,!i&&je),onMouseEnter:i?void 0:O,children:[(0,g.jsx)(u.ZP,{checked:t,disabled:!i,className:Ee}),n("pc_sticker_agree_{X}_web",{X:(0,g.jsx)("span",{className:_e,children:ae[ne.Creator]},"X")})]})})}),(0,g.jsxs)("div",{className:Oe,children:[(0,g.jsx)(s.Z,{className:Ce,theme:"solid",disabled:!t||!i,onClick:()=>{he({action:"Confirm"})},children:n("pc_stickers_release_confirm_agree_web")}),(0,g.jsx)(s.Z,{theme:"solid",type:"secondary",className:Ce,onClick:()=>{he({action:"Cancel"})},children:n("pc_stickers_release_cancel_disagree_web")})]})]})},Se=()=>(0,g.jsx)(Pe,{})},20165:(e,t,r)=>{"use strict";r.d(t,{jd:()=>a.O,FY:()=>i.F,Pi:()=>c.P});r(92432);var n=r(71975),o=r(25536),a=(r(69772),r(44115)),i=r(68487),c=r(77482);r(45194),r(18571);var l;r(37811),r(70382);(0,o.z0)(n.m);l=a.O.finalizeAllImmediately},18751:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,a(r)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=i(t,r));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},17290:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}}}]);