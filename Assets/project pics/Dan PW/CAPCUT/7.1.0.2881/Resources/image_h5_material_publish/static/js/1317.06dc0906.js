"use strict";(self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[]).push([[1317],{73994:(e,t,r)=>{r.d(t,{i:()=>s});const s={macos:"macos",windows:"windows",heycanRatioGroupEllipsis:"heycan-ratio-group-ellipsis",heycanCheckboxEllipsis:"heycan-checkbox-ellipsis",heycanFormFieldEllipsis:"heycan-form-field-ellipsis",heycanPopoverWrapperClearStyle:"heycan-popover-wrapper-clear-style",heycanTextareaThemeGrey:"heycan-textarea-theme-grey",heycanInputThemeGrey:"heycan-input-theme-grey"}},58866:(e,t,r)=>{r.d(t,{vc:()=>i.v,ZP:()=>c,S1:()=>n.Wq});var s=r(18571),o=r(23625),n=r(40358),a=r(72322),i=r(83372);const c=()=>((0,s.useEffect)((()=>{(0,n.ZP)()}),[]),(0,a.jsx)(o.j3,{}))},5545:(e,t,r)=>{r.d(t,{G:()=>n});var s=r(83305),o=r(52272);async function n(e,t){try{return(await(0,o.Gw)({nodeKey:e,keys:t})).nodeKey}catch(r){(0,s.RF)("[getSettings] error",r,{nodeKey:e,keys:t})}return{}}},83372:(e,t,r)=>{r.d(t,{v:()=>n,w:()=>o});let s={};function o(e){s=e}const n=()=>({intl:{clientOptions:{getOverrideOptions:()=>s}}})},42461:(e,t,r)=>{r.d(t,{w:()=>o});var s=r(88154);class o extends Error{constructor(e,t){super(e),this.context=t,(0,s.Z)(this,"name","HeycanError")}}},11507:(e,t,r)=>{r.d(t,{oh:()=>a});var s=r(92287),o=r(12803);class n extends Error{constructor(e,t,r){super(t),this.code=e,this.msg=t,this.error=r}}const a=async(e,t,r)=>{const{timeout_ms:a=3e3,options:i={},...c}=r||{},p=new o.B;return Promise.race([e(c,i).finally((()=>p.cancel())),new Promise(((e,r)=>{if(!a)return;const o=new n(s.tu.JsbOperationTimeout,`timed out by fe, bridgeName=${t}, timeout=${a}`);p.timeout(a).then((()=>r(o)))}))])}},36958:(e,t,r)=>{r.d(t,{c:()=>n});var s=r(13818);const{userAgent:o}=navigator,n=(0,s.Z)((()=>/macintosh/i.test(o)&&!/(ipod|iphone|ipad)/i.test(o)));(0,s.Z)((()=>/windows/i.test(o)))},78159:(e,t,r)=>{r.d(t,{v_:()=>g});var s=r(13818),o=r(2237),n=r(79292);const a=["/lv/v1/user/","/lv/v1/ad_maker/","/lv/v1/commerce/","/lv/v1/creator/"],i=["/artist/v1/homepage/get_effect_list"];var c=r(46817),p=r(71157),l=r(42461),d=r(83305),u=r(5545);let h=!1;const m=(0,s.Z)((async()=>{return"true"===(await(0,u.G)("abtest_use_new_host",["enabled"])).enabled}));async function y(e,t){const r=await m(),s=r&&h,u=r&&!h,g=e.startsWith("/")?`${function(e,t){console.log("lzj: row");const r=(null==t?void 0:t.useNewHost)||!1;if(e){if(a.some((t=>e.startsWith(t))))return r?"https://feed-api.capcutapi.com":"https://feed-api.capcut.com";if(i.includes(e))return r?"https://heycan-api.capcutapi.com":"https://api-heycan-pc-sg.capcut.com"}return r?"https://editor-api.capcutapi.com":"https://editor-api-sg.capcut.com"}(e,{useNewHost:u})}${e}`:e,w=o.parseUrl(g),{region:f,language:v,appVersionName:_}=p.appModel.appInfo,b={url:o.stringifyUrl({url:w.url,query:{...!t.disableRegion&&{region:f},language:v,version_name:_,...w.query}}),method:t.method,needCommonParams:!0,header:{"Content-Type":"application/json",...t.headers},header_signing:!0,...t.data&&{data:JSON.stringify(t.data)},...t.timeout&&{timeout_ms:t.timeout}},$=(r,o,n)=>{const a={rawUrl:e,useNewHost:u,disableNewHostByLoginError:s,...b,...n};"error"===r?(0,d.RF)(o,null,a):t.onlyLogOnError||(0,d.c6)(o,a)},C=e=>n.I18n.t("pc_stickers_prompt_failed_{X}",{X:e});$("info",`[request] start - ${e}`);let x=null;const k=performance.now();try{x=await(0,c.Z)(b)}catch(N){var S,E;const r=performance.now()-k>=(t.timeout||2e4),s=`[request] ${r?"timeout":"failed"} - jsb - ${e}`;throw $("error",s,{code:String(null!==(S=N.code)&&void 0!==S?S:-1),errorText:JSON.stringify(N),timeout:r}),new l.w(s,{code:String(null!==(E=N.code)&&void 0!==E?E:-1),displayMessage:C("jsb")})}const q={httpCode:String(x.httpCode),code:x.response.ret,errmsg:x.response.errmsg,logid:x.response.logid||x.response.log_id};if(200!==x.httpCode){const t=`[request] failed - httpCode ${x.httpCode} - ${e}`;throw $("error",t,q),new l.w(t,{...q,displayMessage:C(`http ${x.httpCode}`)})}if("success"!==x.response.errmsg){const r=`[request] failed - ${q.code} ${q.errmsg} - ${e}`;if($("error",r,q),u&&"1015"===String(q.code)&&location.pathname.endsWith("/publish-text-template.html"))return h=!0,y(e,t);throw new l.w(r,{...q,displayMessage:C(`${q.code} ${q.errmsg}`)})}return $("info",`[request] success ${e}`,q),x.response.data}function g(e,t,r){return y(e,{method:"POST",data:t,...r})}},65896:(e,t,r)=>{r(95242),r(13980),r(72045),r(32706),r(16373),r(65667),r(41194),r(73430),r(13836),r(14872),r(77784),r(75070),r(18052),r(67272),r(29864),r(45757),r(31500),r(77345),r(35390),r(60568),r(86050),r(25739),r(14680),r(70166),r(47684),r(28601),r(75802),r(22374),r(64077),r(74702),r(49102),r(24011),r(24709),r(23746),r(12424),r(92803),r(83690),r(35066),r(86393),r(6127),r(39920),r(61527),r(79618),r(70547),r(14028),r(85232),r(5679),r(44030),r(61806),r(27044),r(96917),r(37879),r(8206),r(99094),r(54325),r(86871),r(38260),r(99448),r(21211),r(86428),r(98636),r(64879),r(83416),r(32074),r(31584),r(48998),r(25547),r(20993),r(30656),r(60078),r(61093),r(53913),r(35783),r(27748),r(70766),r(96759),r(52731),r(52762),r(50157),r(7871),r(45459),r(39768),r(53756),r(8686),r(8516),r(63749),r(65442),r(4826),r(14338),r(65885),r(86877),r(85008),r(49006),r(45316),r(64048),r(19899),r(15854),r(40229),r(95017),r(78328),r(7518),r(98940),r(31607),r(21029),r(30506),r(63034),r(39336),r(81533),r(76),r(99852),r(3753),r(93743),r(58631),r(92271),r(77923),r(41245),r(77363),r(68497),r(3587),r(83550),r(63204),r(9591),r(73420),r(76778),r(85589),r(21528),r(18865),r(4461),r(75147),r(238),r(20582),r(20274),r(78318),r(81951),r(18397),r(9228),r(50888),r(95508),r(60330),r(7304),r(95902),r(68155),r(94405),r(59569),r(93485),r(24271),r(24161),r(40459),r(43618),r(82669),r(27027),r(10346),r(6198),r(95409),r(18929),r(64559),r(14485),r(80314),r(33752),r(43667),r(48974),r(9606),r(46134),r(79560),r(85569),r(88977),r(84340),r(65882),r(5974),r(57281),r(70565),r(82735),r(24741),r(76348),r(47883),r(78702),r(98491),r(18762),r(69227),r(77394),r(61283),r(53425),r(1325),r(70501),r(91551),r(89738),r(80442),r(51144),r(76434),r(12931),r(60246),r(26758),r(11518),r(77666),r(32244),r(77036),r(58846),r(98849),r(96147),r(7935),r(48473),r(10257),r(39883),r(37232),r(37117),r(78250),r(4888),r(48014),r(67558),r(45587),r(22295),r(41381),r(12558),r(80124),r(17332),r(57359),r(28512),r(12201),r(68374),r(30526),r(71425),r(85627),r(49058),r(45195),r(474),r(69684),r(64656),r(63198),r(84740),r(75512),r(38693),r(92785),r(28808),r(57689),r(14086),r(2),r(87149),r(4843),r(13940),r(91109),r(78816)},11930:()=>{window.__assetPrefix__="."}}]);